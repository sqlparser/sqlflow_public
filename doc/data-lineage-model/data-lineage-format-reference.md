# The reference of data lineage format

## 1. Top level elements

- dbvendor: string,  SQL dialects such as oracle, mysql
- dbobjs: array, database objects such as table, view and etc
- relations: array,  column-level relationship

## 2. dbobjs

This is an array that includes all database objects discovered during the data lineage analysis. JSON PATH: `$.dbobjs`.

### Attributes

* id, this is the unique identifier of this object in the data lineage result.
* name, name of the object.

- type, type of the object such as table, view, process.
- coordinates, position of the object in the SQL script.
- columns, optional, valid when type is table, view

## 3. realtions

Relation is the atom unit of the data lineage. Relation build a link between the source and target column( column-level lineage).

Those relations are stored in the `$.relations`.

A relation includes the `type`, `target`, `sources` and other attributes.

### Attributes

- id
- type
- effectType
- target, is an object
- sources, array of source objects
- processid, optional

## List of the elements in data lineage

### 1. Database object

- schema

### 2. Schema object

- table, including external table
- view
- procedure
- function
- trigger

### 3. Hdfs object

- file, such as `/user/data/pv_2008-06-08_us.txt, gs://bucket/path1.csv`
- directory, such as `s3://load/encrypted_files/`, `@exttable_part_stage/logs/`
- stage, this is a directory.

### 4. SQL object

Object created temporary during the execution of the SQL statement.

- select list
- merge insert
- merge update
- update set
- update select
- insert select
- function call
- union
- CTE
- pivot table
- snowflake pivot alias
- sql server open json
- sql server join property
- set of rows ( constructed through the values expression, used in the place where table occurs)
- process, this the the SQL query that does the data transform.

### 5. Relation

* fdd , dataflow
* fdr , data impact

### 6. join

### 7. Abbreviation of the object

The abbreviation of the object used in the diagram generated by the Gudu SQLFlow.

- CTE [C]
- directory [D]
- function [F]
- function call [F]
- file [FL]
- insert select [IS]
- join property [JP] (sql server)
- merge insert [MI]
- merge update [MU]
- open json [OJ] (sql server)
- pivot alias [PA] (snowflake)
- pivot table [PT]
- procedure [P]
- select list [L]
- set of rows [RW]
- stage [S]
- table [T]
- trigger [TR]
- union [U]
- update set [UE]
- update select [US]
- view [V]